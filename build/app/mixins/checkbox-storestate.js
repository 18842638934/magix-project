define("app/mixins/checkbox-storestate",["$","magix"],function(e,t,a){var n=e("$"),r=e("magix");a.exports={ctor:function(){var e=this;e.$stateStore={},e.on("rendered",e.applyState)},applyState:function(e){var t=this,a=t.$stateStore;n("#"+e.id+" input[linkage-parent-name]").each(function(e,t){var r=n(t).attr("linkage-parent-name"),i=a[r];i&&1==i[t.value]?t.checked=!0:t.checked=!1})},getStoreState:function(e){var t,a=this.$stateStore,n=[];if(e)(t=a[e])&&(n=r.keys(t));else for(var i in a)(t=a[i])&&(n=n.concat(r.keys(t)));return n},"$input[linkage-parent-name]<change>":function(e){var t=this,a=n(e.eventTarget),r=a.val(),i=a.attr("linkage-parent-name");if(r){var c=t.$stateStore[i];c||(c=t.$stateStore[i]={}),a.prop("checked")?c[r]=1:delete c[r]}},"$input[linkage-name]<change>":function(e){var t=this,a=n(e.eventTarget).attr("linkage-name"),r=t.$stateStore[a];r||(r=t.$stateStore[a]={}),n("#"+t.id+" input[type=checkbox]").each(function(t,i){i=n(i);var c=i.attr("linkage-parent-name"),o=i.val();o&&c==a&&(e.target.checked?r[o]=1:delete r[o])})}}});