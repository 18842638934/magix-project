define("app/mixins/gtip",["magix","$"],function(t,i,o){var a=t("magix"),n=t("$"),e={vertical:5,horizontal:10},r={lt:function(t,i){t.css({top:65*i+e.vertical*(i+1),left:e.horizontal})},rt:function(t,i){t.css({top:65*i+e.vertical*(i+1),right:e.horizontal})},lb:function(t,i){t.css({bottom:65*i+e.vertical*(i+1),left:e.horizontal})},rb:function(t,i){t.css({bottom:65*i+e.vertical*(i+1),right:e.horizontal})}};a.applyStyle("pabcda7",".pabcda7-b93{border:1px solid #ccc;background-color:#fff;padding:8px 20px;position:fixed;z-index:450;border-radius:4px;width:300px;height:65px;overflow:hidden;word-break:break-all;transition:all .3s;opacity:0}.pabcda7-9b9{opacity:1}.pabcda7-7a1{opacity:0}");var c={calc:function(t){var i=this,o=i["$"+t];if(o&&o.length)for(var a=0,n=void 0;a<o.length;a++){n=o[a];var e=r[t];e(n,a)}},add:function(t,i){i||(i="rt");var o=this;if(!r[i])throw new Error("mx-gip unsupport dock:"+i);(o["$"+i]||(o["$"+i]=[])).push(t),t.on("tipclose",function(){o.remove(t,i)}),o.calc(i)},remove:function(t,i){t.off("close");for(var o=this,a=o["$"+i],n=a.length-1;n>=0;n--){if(a[n]==t){a.splice(n,1);break}}o.calc(i)}};o.exports=a.View.extend({tmpl:{html:"1",subs:[{s:"1",keys:["tip"],tmpl:"<%=$$.tip.msg%>",path:"#"}]},init:function(t){var i=this;this.$extra=t,this.on("destroy",function(){i.$oNode.trigger("tipclose").remove()})},render:function(){var t=this,i=n("#"+t.id);i.addClass("pabcda7-b93"),t.$oNode=i,t.updater.digest({tip:t.$extra}),t.$extra.timeout&&setTimeout(t.wrapAsync(function(){t.close()}),t.$extra.timeout),setTimeout(t.wrapAsync(function(){i.addClass("pabcda7-9b9")}),20)},close:function(){var t=this;this.$oNode.addClass("pabcda7-7a1"),setTimeout(this.wrapAsync(function(){t.owner.unmountVframe()}),300)}},{gtipShow:function(t){var i=a.guid("gtip-");n("body").append('<div id="'+i+'" />'),this.owner.mountVframe(i,"app/mixins/gtip",t),c.add(n("#"+i),t.dock)},gtipRT:function(t,i){this.gtipShow({msg:t,dock:"rt",timeout:i||3e3})},gtipRB:function(t,i){this.gtipShow({msg:t,dock:"rb",timeout:i||3e3})},gtipLT:function(t,i){this.gtipShow({msg:t,dock:"lt",timeout:i||3e3})},gtipLB:function(t,i){this.gtipShow({msg:t,dock:"lb",timeout:i||3e3})}})});