define("app/mixins/large-img",["magix","$"],function(i,t,a){var o=i("magix"),d=i("$");o.applyStyle("p32",".p32-f3f{position:fixed;left:0;top:0;right:0;bottom:0;background:#000;z-index:4900;opacity:.5;display:block}.p32-429{animation:p32-9b9 .3s;animation-fill-mode:forwards}@keyframes p32-9b9{0%{opacity:0}to{opacity:.5}}.p32-6a7{animation:p32-7a1 .2s;animation-fill-mode:forwards}@keyframes p32-7a1{0%{opacity:.5}to{opacity:0}}.p32-0fa{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0;z-index:4901}.p32-551{position:absolute;z-index:4902;padding-bottom:50px;min-height:60px}.p32-37c{animation:p32-dc0 .3s;animation-fill-mode:forwards}@keyframes p32-dc0{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.p32-289{animation:p32-8b8 .2s;animation-fill-mode:forwards}@keyframes p32-8b8{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");var e=d(window);a.exports=o.View.extend({tmpl:{html:'<div mx-guid="g1" class="p32-f3f p32-429" id="mask_<%=$$.viewId%>" mx-click="close()" data-spm-click="gostr=/alimama.13;locaid=d273ccd5a"></div><div class="p32-0fa" mx-click="close()" data-spm-click="gostr=/alimama.13;locaid=df4d25e18"><div mx-guid="g5" class="p32-551 p32-37c" data-spm-protocol="i" id="body_<%=$$.viewId%>" style="left:<%=$$.left%>px;top:<%=$$.top%>px">2</div></div>',subs:[{keys:["viewId"],path:'div[mx-guid="g1"]',attr:'id="mask_<%=$$.viewId%>"',attrs:[{n:"id",p:1}]},{s:"2",keys:["viewId","left","top","video"],tmpl:'<%if($$.video){%><video mx-guid="g4" style="max-width:<%=$$.maxWidth%>px" src="<%=$$.url%>" autoplay="autoplay" loop="loop" controls="controls"></video><%}else{%><img mx-guid="g3" style="max-width:<%=$$.maxWidth%>px" src="<%=$$.url%>"/><%}%>',path:'div[mx-guid="g5"]',attr:'id="body_<%=$$.viewId%>" style="left:<%=$$.left%>px;top:<%=$$.top%>px"',attrs:[{n:"id",p:1},{n:"style"}],mask:"2221"},{keys:["maxWidth","url"],path:'video[mx-guid="g4"]',pKeys:["video"],attr:'style="max-width:<%=$$.maxWidth%>px" src="<%=$$.url%>"',attrs:[{n:"style"},{n:"src",p:1}]},{keys:["maxWidth","url"],path:'img[mx-guid="g3"]',pKeys:["video"],attr:'style="max-width:<%=$$.maxWidth%>px" src="<%=$$.url%>"',attrs:[{n:"style"},{n:"src",p:1}]}]},init:function(i){this.$url=i.url,this.$video=i.video},render:function(){var i,t=this,a=e.width()-100,o=50;t.$video||(i=new Image,i.src=t.$url,i&&i.width&&(o=(e.width()-Math.min(i.width,a))/2)),t.updater.digest({viewId:t.id,left:o,top:50,maxWidth:a,url:t.$url,video:t.$video}),setTimeout(t.wrapAsync(function(){d("#body_"+t.id).removeClass("p32-37c"),d("#mask_"+t.id).removeClass("p32-429")}),300)},"close<click>":function(){var i=this;i.$closing||(i.$closing=1,d("#body_"+i.id).addClass("p32-289"),d("#mask_"+i.id).addClass("p32-6a7"),setTimeout(i.wrapAsync(function(){i.owner.unmountVframe()}),200))}},{"$img,video<click>":function(i){var t=this,a=o.guid("l_img_");d('<div id="'+a+'" />').appendTo(document.body);var e=i.eventTarget;t.owner.mountVframe(a,"app/mixins/large-img",{url:e.src,video:"video"==e.tagName.toLowerCase()})}})});