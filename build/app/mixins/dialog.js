define("app/views/partials/alert",["magix"],function(i,t,l){var a=i("magix");l.exports=a.View.extend({tmpl:{html:'<div class="p61-255"><h4 mx-guid="g0" class="p61-254">1</h4></div><div mx-guid="g1" class="p61-7f2" style="word-break:break-all">2</div><div class="p61-0f5"><a mx-click="enter();" class="pf0-btn pf0-046">确定</a></div>',subs:[{s:"1",keys:["title"],tmpl:"<%=$$.title%>",path:'h4[mx-guid="g0"]'},{s:"2",keys:["body"],tmpl:"<%=$$.body%>",path:'div[mx-guid="g1"]'}]},init:function(i){var t=this;t.$dialog=i.dialog,t.$body=i.body,t.$title=i.title||"提示",t.$enterCallback=i.enterCallback},render:function(){var i=this;i.updater.digest({body:i.$body,title:i.$title})},"enter<click>":function(){var i=this;i.$enterCallback&&a.toTry(i.$enterCallback),i.$dialog.close()}})}),define("app/views/partials/confirm",["magix"],function(i,t,l){var a=i("magix");l.exports=a.View.extend({tmpl:{html:'<div class="p61-255"><h4 mx-guid="g0" class="p61-254">1</h4></div><div mx-guid="g1" class="p61-7f2" style="word-break:break-all">2</div><div class="p61-0f5"><a mx-click="enter()" class="pf0-btn pf0-046 p16-fdc">确定</a><a mx-click="cancel()" class="pf0-btn">取消</a></div>',subs:[{s:"1",keys:["title"],tmpl:"<%=$$.title%>",path:'h4[mx-guid="g0"]'},{s:"2",keys:["body"],tmpl:"<%=$$.body%>",path:'div[mx-guid="g1"]'}]},init:function(i){var t=this;t.$dialog=i.dialog,t.$body=i.body,t.$title=i.title||"提示",t.$enterCallback=i.enterCallback,t.$cancelCallback=i.cancelCallback},render:function(){var i=this;i.updater.digest({body:i.$body,title:i.$title})},"enter<click>":function(){var i=this;i.$enterCallback&&a.toTry(i.$enterCallback),i.$dialog.close()},"cancel<click>":function(){var i=this;i.$cancelCallback&&a.toTry(i.$cancelCallback),i.$dialog.close()}})}),define("app/mixins/dialog",["magix","$"],function(i,t,l){var a=i("magix"),e=i("$"),c=e(window);l.exports={alert:function(i,t,l){this.confirm(i,t,null,l,"alert")},confirm:function(i,t,l,a,e){this.mxDialog("app/views/partials/"+(e||"confirm"),{body:i,cancelCallback:l,enterCallback:t,title:a,modal:!0,width:400,closable:!1,left:(c.width()-400)/2,top:Math.max((c.height()-220)/2,0)})},mxDialog:function(i,t){var l,e,n=this,o={view:i};return seajs.use(["app/gallery/mx-dialog/index",i],n.wrapAsync(function(s,d){var r="$dlg_"+i;n[r]||(n[r]=1,a.mix(o,d.dialogOptions),a.mix(o,t),o.width||(o.width=500),o.left||(o.left=(c.width()-o.width)/2),o.top||(o.top=100),o.dialog={close:function(){l&&l.trigger("dlg_close")}},l=s.show(n,o),l.on("close",function(){delete n[r],e&&e()}))})),{close:function(){l&&l.trigger("dlg_close")},whenClose:function(i){e=i}}}}});