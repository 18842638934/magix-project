define("app/gallery/mx-range/index",["magix","$","../mx-dragdrop/index"],function(e,a,t){var i=e("magix"),r=e("$");i.applyStyle("p67",".p67-b70{width:300px;height:4px;background:#aaa;position:relative;display:inline-block}.p67-75e{border-radius:8px;width:16px;height:16px;position:absolute;left:-6px;top:-6px;cursor:move;background:#aaa}");var d=e("../mx-dragdrop/index");t.exports=i.View.extend({tmpl:{html:'<div class="p67-b70"><div mx-guid="g0" class="p67-75e" mx-mousedown="drag()" style="left:<%=$$.value%>px"></div></div>',subs:[{keys:["value"],path:'div[mx-guid="g0"]',attr:'style="left:<%=$$.value%>px"',attrs:[{n:"style"}]}]},init:function(e){this.$value=e.value||0},render:function(){var e=this;e.updater.digest({value:300*e.$value-8})},"drag<mousedown>":function(e){var a,t=r(e.eventTarget),i=t.width(),n=i/2,p=-n,l=t.parent().width(),s=l-n,g=parseInt(t.css("left"),10),o=r("#"+this.id);d.begin(e.eventTarget,function(i){d.clear();var r=g+i.pageX-e.pageX;r<p?r=p:r>s&&(r=s);var u=(r+n)/l;u!=a&&(a=u,t.css({left:r}),o.val(u).trigger({type:"change",value:u}))})}})});