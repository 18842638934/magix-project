define("app/gallery/mx-range/index",["magix","$","../mx-dragdrop/index"],function(e,a,t){var i=e("magix"),d=e("$");i.applyStyle("pabcd67",".pabcd67-b70{width:300px;height:4px;background:#aaa;position:relative;display:inline-block}.pabcd67-75e{border-radius:8px;width:16px;height:16px;position:absolute;left:-6px;top:-6px;cursor:move;background:#aaa}");var r=e("../mx-dragdrop/index");t.exports=i.View.extend({tmpl:{html:'<div class="pabcd67-b70"><div mx-guid="g0" class="pabcd67-75e" mx-mousedown="drag()" style="left:<%=$$.value%>px"></div></div>',subs:[{keys:["value"],path:'div[mx-guid="g0"]',attr:'style="left:<%=$$.value%>px"',attrs:[{n:"style"}]}]},init:function(e){this.$value=e.value||0},render:function(){var e=this;e.updater.digest({value:300*e.$value-8})},"drag<mousedown>":function(e){var a,t=d(e.eventTarget),i=t.width(),n=i/2,p=-n,l=t.parent().width(),s=l-n,g=parseInt(t.css("left"),10),o=d("#"+this.id);r.begin(e.eventTarget,function(i){r.clear();var d=g+i.pageX-e.pageX;d<p?d=p:d>s&&(d=s);var u=(d+n)/l;u!=a&&(a=u,t.css({left:d}),o.val(u).trigger({type:"change",value:u}))})}})});