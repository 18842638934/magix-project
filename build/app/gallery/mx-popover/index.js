define("app/gallery/mx-popover/index",["magix","$"],function(e,t,o){var i=e("magix"),n=e("$");i.applyStyle("p92",".p92-47b{border-radius:4px;padding:0;box-shadow:0 6px 8px rgba(51,51,51,.08);position:absolute;border:1px solid rgba(0,0,0,.1);display:none;max-width:276px;background-color:#fff}.p92-13d{font-size:12px;line-height:22px;padding:9px 14px}");var r;o.exports=i.View.extend({tmpl:{html:'<div mx-guid="g0" class="p92-13d">1</div>',subs:[{s:"1",keys:["content"],tmpl:"<%!$$.content%>",path:'div[mx-guid="g0"]'}]},init:function(e){var t=this;t.$placement=e.placement||"right",t.$align=e.align,t.$content=e.content||"",t.$width=0|e.width,t.on("destroy",function(){t.$ownerNode.off("mouseenter mouseleave"),t.$rNode&&t.$rNode.off("mouseenter mouseleave").remove()})},render:function(){var e=this;e.endUpdate();var t=n("#"+e.id);e.$ownerNode=t,t.hover(function(){e.prepare(),e.$timer=setTimeout(e.wrapAsync(function(){e.show()}),100)},function(){clearTimeout(e.$timer),e.hide()})},prepare:function(){var e=this;if(!e.$rNode){var t="popover_"+e.id;e.$ownerNode.after('<div class="p92-47b" id="'+t+'" />'),e.updater.to(t).digest({content:e.$content}),e.$rNode=n("#"+t),e.$width&&e.$rNode.css({"max-width":e.$width,width:e.$width}),e.$rNode.hover(function(){clearTimeout(e.$timer)},function(){e.hide()})}},content:function(e){var t=this;if(!e)return t.$content;t.$rNode?(t.$content=e,t.updater.digest({content:e})):t.$content=e},show:function(){var e=this;r&&r!=e&&r.immediatelyHide(),r=e,clearTimeout(e.$timer);var t=e.$rNode,o=e.$ownerNode,i=o.offset(),n=o.outerWidth(),a=o.outerHeight();t.css({display:"block"});var d,s,c=t.outerWidth(),p=t.outerHeight();switch(e.$placement){case"top":d=i.left-(c-n)/2,s=i.top-p-10;break;case"right":d=i.left+n+10,s=i.top-(p-a)/2;break;case"bottom":d=i.left-(c-n)/2,s=i.top+a+10;break;case"left":d=i.left-c-10,s=i.top-(p-a)/2}switch(e.$align){case"top":s=i.top;break;case"left":d=i.left;break;case"right":d=i.left-c+n;break;case"bottom":s=i.top-p+a}t.offset({left:d,top:s})},hide:function(){var e=this;clearTimeout(e.$timer),e.$timer=setTimeout(e.wrapAsync(function(){e.$rNode.css({display:"none"})}),50)},immediatelyHide:function(){var e=this;clearTimeout(e.$timer),e.$rNode.css({display:"none"})}})});