define("app/gallery/mx-popmenu/index",["magix","$","../mx-monitor/index"],function(e,t,i){var o=e("magix"),n=e("$"),d=e("../mx-monitor/index");i.exports=o.View.extend({init:function(e){var t=this;t.$placement=e.placement,t.$align=e.align,d.setup();var i=n("#"+t.id),o=function(e){e.preventDefault(),t.show()};t.on("destroy",function(){d.teardown(),i.off("click",o)}),i.on("click",o),t.$ownerNode=i,t.$relatedNode=n(e.related),t.$relatedId=t.$relatedNode.attr("id"),t.$relatedNode.css({position:"absolute"})},inside:function(e){var t=this;return o.inside(e,t.id)||o.inside(e,t.$relatedId)},show:function(){var e=this;if(!e.$shown){var t=e.$relatedNode,i=e.$ownerNode;e.$shown=!0,d.add(e),t.show();var o=i.offset(),n=void 0,a=void 0;switch(e.$placement){case"top":a=o.top-t.outerHeight()-5;break;default:a=o.top+i.outerHeight()+5}switch(e.$align){case"right":n=o.left+i.outerWidth()-t.outerWidth();break;default:n=o.left}t.offset({left:n,top:a})}},hide:function(){var e=this;if(e.$shown){var t=e.$relatedNode;e.$shown=!1,t.hide(),d.remove(e)}}})});