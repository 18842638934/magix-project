define("app/gallery/mx-dialog/index",["magix","$"],function(a,i,t){var d=a("magix");d.applyStyle("pabcdc8",".pabcdc8-e16{position:absolute;top:0;left:0;z-index:1040}.pabcdc8-40d{position:relative;width:auto;background-color:#fff;border-radius:6px;border:1px solid #e6e6e6;box-shadow:none}.pabcdc8-663{position:absolute;-webkit-appearance:none;-moz-appearance:none;padding:0;margin:13px 15px 0 0;cursor:pointer;background:transparent;border:0;float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;filter:alpha(opacity=20);opacity:.2;z-index:1041;top:16px;right:10px;margin:0}.pabcdc8-663:focus,.pabcdc8-663:hover{color:#000;text-decoration:none;cursor:pointer;filter:alpha(opacity=50);opacity:.5}.pabcdc8-f9f{font-size:22px;font-weight:400}.pabcdc8-1c1{position:fixed;top:0;right:0;left:0;bottom:0;background-color:#000;filter:alpha(opacity=50);opacity:.5;display:none;z-index:1039}.pabcdc8-797{filter:blur(3px)}.pabcdc8-429{animation:pabcdc8-9b9 .3s;animation-fill-mode:forwards}.pabcdc8-882{position:absolute;right:10px;top:0;width:1px;height:0}.pabcdc8-4b9{padding:80px 0}@keyframes pabcdc8-9b9{0%{opacity:0}to{opacity:.5}}.pabcdc8-6a7{animation:pabcdc8-7a1 .2s;animation-fill-mode:forwards}@keyframes pabcdc8-7a1{0%{opacity:.5}to{opacity:0}}.pabcdc8-5c8{margin-bottom:50px;min-height:60px}.pabcdc8-0fa{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0}.pabcdc8-37c{animation:pabcdc8-dc0 .3s;animation-fill-mode:forwards}@keyframes pabcdc8-dc0{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.pabcdc8-289{animation:pabcdc8-8b8 .2s;animation-fill-mode:forwards}@keyframes pabcdc8-8b8{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");var e=a("$"),c=500,o=[],p=function(a){for(var i=o.length-1,t=void 0;i>=0;i--)if(t=o[i],t.id==a.id){o.splice(i,1);break}};t.exports=d.View.extend({tmpl:{html:'<div mx-guid="g1" class="pabcdc8-1c1 pabcdc8-429" style="display: block;z-index:<%=$$.zIndex-1%>" id="mask_<%=$$.viewId%>"></div><div mx-guid="g7" class="pabcdc8-0fa" style="z-index:<%=$$.zIndex%>"><div mx-guid="g6" class="pabcdc8-e16 pabcdc8-37c" data-spm-protocol="i" id="body_<%=$$.viewId%>" style="left:<%=$$.left%>px;top:<%=$$.top%>px;width:<%=$$.width%>px"><input mx-guid="g3" id="focus_<%=$$.viewId%>" class="pabcdc8-882"/><button mx-guid="g4" type="button" mx-click="close()" class="pabcdc8-663 <%=$$.closable ? \'\' : \'pabcd16-ab9\'%>"><span class="pabcdce-334 pabcdc8-f9f">&#xe67f;</span></button><div mx-guid="g5" class="pabcdc8-40d pabcdc8-5c8" id="cnt_<%=$$.viewId%>"><div class="pabcd28-f0b pabcdc8-4b9"><span></span></div></div></div></div>',subs:[{keys:["zIndex","viewId"],path:'div[mx-guid="g1"]',attr:'style="display: block;z-index:<%=$$.zIndex-1%>" id="mask_<%=$$.viewId%>"',attrs:[{n:"style"},{n:"id",p:1}]},{keys:["closable"],path:'button[mx-guid="g4"]',attr:"class=\"pabcdc8-663 <%=$$.closable ? '' : 'pabcd16-ab9'%>\"",attrs:[{n:"class",p:1,f:"className"}]},{keys:["viewId"],path:'div[mx-guid="g5"]',attr:'id="cnt_<%=$$.viewId%>"',attrs:[{n:"id",p:1}]},{keys:["viewId"],path:'input[mx-guid="g3"]',attr:'id="focus_<%=$$.viewId%>"',attrs:[{n:"id",p:1}]},{keys:["viewId","left","top","width"],path:'div[mx-guid="g6"]',attr:'id="body_<%=$$.viewId%>" style="left:<%=$$.left%>px;top:<%=$$.top%>px;width:<%=$$.width%>px"',attrs:[{n:"id",p:1},{n:"style"}]},{keys:["zIndex"],path:'div[mx-guid="g7"]',attr:'style="z-index:<%=$$.zIndex%>"',attrs:[{n:"style"}]}]},init:function(a){var i=this,t=e("#app");i.on("destroy",function(){p(i),c-=2,500==c&&t.removeClass("pabcdc8-797"),e("#"+i.id).trigger("close").remove()}),d.has(a,"closable")||(a.closable=!0),i.updater.set(a),500==c&&t.addClass("pabcdc8-797"),c+=2,o.push(i)},render:function(){var a=this,i=a.updater,t=i.get();i.set({zIndex:c,viewId:a.id}).digest(),e("#"+a.id).show(),e("#focus_"+a.id).focus(),a.owner.mountVframe("cnt_"+a.id,t.view,t),setTimeout(a.wrapAsync(function(){e("#body_"+a.id).removeClass("pabcdc8-37c"),e("#mask_"+a.id).removeClass("pabcdc8-429")}),300)},fireLeave:function(a){d.Vframe.get("cnt_"+this.id).invoke("fire",["unload",a])},"close<click>":function(){e("#"+this.id).trigger("dlg_close")},"$doc<keyup>":function(a){if(27==a.keyCode){var i=o[o.length-1];if(i==this&&i.updater.get("closable")){e("#"+i.id).trigger("dlg_close")}}}},{show:function(a,i){var t=d.guid("dlg_");e(document.body).append('<div id="'+t+'" style="display:none" />');var c,o=a.owner.mountVframe(t,"app/gallery/mx-dialog/index",i),p=e("#"+t);return p.on("dlg_close",function(){if(!p.data("closing")&&!c){var i=function(){p.data("closing",1),e("#body_"+t).addClass("pabcdc8-289"),e("#mask_"+t).addClass("pabcdc8-6a7"),setTimeout(function(){a.owner.unmountVframe(t)},200)},d={prevent:function(){c=1},resolve:function(){d.p=1,c=0,i()},reject:function(){d.p=1,c=0}};o.invoke("fireLeave",d),c||d.p||i()}})}})});